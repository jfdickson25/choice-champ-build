{"version":3,"file":"static/js/132.2c4892c5.chunk.js","mappings":"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","sources":["shared/assets/img/back.svg","collection/pages/Details.js"],"sourcesContent":["var _rect, _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgBack(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    width: 40,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    height: 39,\n    rx: 19.5,\n    stroke: \"#fff\",\n    width: 39,\n    x: 0.5,\n    y: 0.5\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m17 20-.7071-.7071-.7071.7071.7071.7071zm5.2929-6.7071-6 6 1.4142 1.4142 6-6zm-6 7.4142 6 6 1.4142-1.4142-6-6z\",\n    fill: \"#fff\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBack);\nexport default __webpack_public_path__ + \"static/media/back.130646437979786be8370a1fdf68655a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport Loading from '../../shared/components/Loading';\r\n\r\nimport './Details.css';\r\nimport circle from '../../shared/assets/img/circle.png';\r\nimport check from '../../shared/assets/img/check.png';\r\nimport back from '../../shared/assets/img/back.svg';\r\n\r\nconst Details = () => {\r\n    const auth = useContext(AuthContext);\r\n    let navigate = useNavigate();\r\n\r\n    /************************************************************\r\n     * Initial load and data needed. Here we grab the info we need\r\n     * from the params and set edit and our movies list\r\n     ***********************************************************/\r\n    // Grab the collection name and id from the parameters\r\n    let collectionType = useParams().type;\r\n    let collectionName = useParams().name;\r\n    let collectionId = useParams().collectionId;\r\n    let itemId = useParams().itemId;\r\n\r\n    const [details, setDetails] = useState({});\r\n    const [providers, setProviders] = useState({}); // List of providers to watch\r\n    const [loading, setLoading] = useState(false); // Loading state for when we are fetching data\r\n    const [navingBack, setNavingBack] = useState(false);\r\n    const [orjCollectionList, setOrjCollectionList] = useState([]); // Original collection list to compare to the updated list\r\n    const [collectionList, setCollectionList] = useState([]);\r\n    const [loadingCollectionList, setLoadingCollectionList] = useState(false);\r\n    const [updatesMade, setUpdatesMade] = useState(false);\r\n    const [currentCollectionExists, setCurrentCollectionExists] = useState(true);\r\n\r\n    useEffect(() => {\r\n        auth.showFooterHandler(false);\r\n        setLoading(true);\r\n        setLoadingCollectionList(true);\r\n        // Get all the items in the collection to check if any items in the search are already in the collection\r\n        fetch(`https://choice-champ-backend.glitch.me/media/getInfo/${collectionType}/${itemId}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            // Remove all the html tags from the overview string\r\n            // This is specifically for board games because the overview is in html\r\n            if(collectionType === 'board') {\r\n                const regex = /(<([^>]+)>)/gi;\r\n                let string = data.media.details.overview.replace(regex, \" \");\r\n                let string2 = string.replace(/&mdash;/g, \"-\");\r\n                let string3 = string2.replace(/&nbsp;/g, \" \");\r\n                let string4 = string3.replace(/&quot;/g, '\"');\r\n                let string5 = string4.replace(/&amp;/g, \"&\");\r\n                let string6 = string5.replace(/&rsquo;/g, \"'\");\r\n                \r\n                data.media.details.overview = string6;\r\n            }\r\n\r\n            setDetails(data.media.details);\r\n\r\n            if(collectionType !== 'board' || collectionType !== 'game') {\r\n                // Set the providers to the providers object\r\n                setProviders(data.media.providers);\r\n            } \r\n            \r\n            if (collectionType === 'game') {\r\n                setProviders({\r\n                    platforms: data.media.providers.platforms\r\n                });\r\n            }\r\n\r\n            setLoading(false);\r\n        });\r\n\r\n        fetch(`https://choice-champ-backend.glitch.me/collections/collectionList/${collectionType}/${itemId}/${auth.userId}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            let tempCollectionArray = [];\r\n            data.collections.forEach(collection => {\r\n                tempCollectionArray.push(collection.exists);\r\n            });\r\n\r\n            setOrjCollectionList([...tempCollectionArray]);\r\n            setCollectionList([...data.collections]);\r\n            setLoadingCollectionList(false);\r\n        });\r\n    }, []);\r\n\r\n    const navBack = () => {\r\n        setNavingBack(true);\r\n        setTimeout(() => {\r\n            setNavingBack(false);\r\n            if(currentCollectionExists) {\r\n                navigate(`/collections/${collectionType}/${collectionName}/${collectionId}#${itemId}`);\r\n            } else {\r\n                navigate(`/collections/${collectionType}/${collectionName}/${collectionId}`);\r\n            }\r\n        }, 1000);\r\n    }\r\n\r\n    const submitCollectionUpdates = () => {\r\n        setLoadingCollectionList(true);\r\n        // Check to see if any collections were removed or added\r\n        const removedCollections = [];\r\n        const addedCollections = [];\r\n        const tempOriginalList = [...orjCollectionList];\r\n        const addedCollectionIndexes = [];\r\n\r\n        for (let i = 0; i < collectionList.length; i++) {\r\n            if(collectionList[i].exists !== tempOriginalList[i]) {\r\n                if(collectionList[i].exists) {\r\n                    addedCollections.push(collectionList[i]);\r\n                    addedCollectionIndexes.push(i);\r\n                    tempOriginalList[i] = true;\r\n\r\n                } else {\r\n                    removedCollections.push(collectionList[i]);\r\n                    tempOriginalList[i] = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Send a request to the backend to update the collections\r\n        for (let i = 0; i < removedCollections.length; i++) {\r\n            // Make a fetch delete request to remove an item from a collection\r\n            fetch(`https://choice-champ-backend.glitch.me/collections/items/${removedCollections[i].collectionId}/${removedCollections[i].itemId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(res => {\r\n                // Update the collection list\r\n                setOrjCollectionList([...tempOriginalList]);\r\n                setLoadingCollectionList(false);\r\n            });\r\n        }\r\n\r\n        for (let i = 0; i < addedCollections.length; i++) {\r\n            // Make a fetch post request to add an item to a collection\r\n            fetch(`https://choice-champ-backend.glitch.me/collections/items/${addedCollections[i].collectionId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify([{\r\n                    title: details.title,\r\n                    id: itemId,\r\n                    poster: details.poster\r\n                }])\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                // Create a temp collection list to update the collection list\r\n                // Update the collection list with the new item id\r\n                let tempCollection = [...collectionList];\r\n                tempCollection[addedCollectionIndexes[i]].itemId = data.newItems[0]._id;\r\n                setCollectionList([...tempCollection]);\r\n                // Update the collection list\r\n                setOrjCollectionList([...tempOriginalList]);\r\n                setLoadingCollectionList(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='content'>\r\n            <img \r\n                src={back} alt=\"Back symbol\" className=\"top-left clickable\" onClick={navBack}\r\n                // Add a button-press animation when navigating back\r\n                style={navingBack ? {animation: 'button-press .75s'} : null}\r\n            />\r\n            { \r\n                loading ? <Loading type='beat' className='list-loading' size={20} /> : \r\n                <React.Fragment>\r\n                    <div id=\"content-details\">\r\n                        <img\r\n                            className={ collectionType === 'game' ? 'details-img-game' :'details-img' }\r\n                            src={details.poster}\r\n                        />\r\n                        <div className='details-title'>{details.title}</div>\r\n                        {\r\n                                <div className='details-section'>\r\n                                    <span className='details-section-title'>\r\n                                        { (collectionType === 'game' || collectionType === 'board') && ' Play Time:' } \r\n                                        { collectionType === 'movie' && ' Runtime:' }\r\n                                        { collectionType === 'tv' && ' Seasons:' }\r\n                                    </span> \r\n                                    {\r\n                                        details.runtime > 0 ? details.runtime : 'N/A'\r\n                                    }\r\n                                    { (collectionType === 'game' && details.runtime > 0) && ' hour' } \r\n                                    { (collectionType === 'movie' || collectionType === 'board') && ' minute' } \r\n                                    { collectionType === 'tv' && ' season' }\r\n                                    { details.runtime > 1 && 's' }\r\n                                </div>\r\n                        }\r\n                        {\r\n                            collectionType === 'board' && (\r\n                                <React.Fragment>\r\n                                    <div className='details-section'>\r\n                                        <span className='details-section-title'>Min Players:</span> {details.minPlayers}\r\n                                    </div>\r\n                                    <div className='details-section'>\r\n                                        <span className='details-section-title'>Max Players:</span> {details.maxPlayers}\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            )\r\n                        }\r\n                        <div className='details-section'>\r\n                            <div className='details-section-title'>Overview:</div>\r\n                            <div className='details-overview'>{details.overview}</div>\r\n                        </div>\r\n\r\n                        { \r\n                            \r\n                            (collectionType === 'movie' || collectionType === 'tv') && \r\n                            (\r\n                                <React.Fragment>\r\n                                    <div className='details-provider-title'>Stream</div>\r\n                                    { \r\n                                        // Q: How can I check to see if the providers.stream array is empty?\r\n                                        // A: Use providers.stream.length\r\n                                        providers.stream ?\r\n                                        (\r\n                                            <div className='details-provider-list'>\r\n                                                {\r\n                                                    providers.stream.map(provider => (\r\n                                                        (<div className='details-provider-item' key={provider.provider_name}>\r\n                                                            <img className='provider-img' src={`https://image.tmdb.org/t/p/w500${provider.logo_path}`} alt={provider.provider_name} />\r\n                                                        </div>)\r\n                                                    ))\r\n                                                }\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className='providers-not-available'>Not available to stream</div>\r\n                                        )\r\n                                    }\r\n                                    <div className='details-provider-title'>Buy</div>\r\n                                    { \r\n                                        providers.buy ?\r\n                                        (\r\n                                            <div className='details-provider-list'>\r\n                                                {\r\n                                                    providers.buy.map(provider => (\r\n                                                        (<div className='details-provider-item' key={provider.provider_name}>\r\n                                                            <img className='provider-img' src={`https://image.tmdb.org/t/p/w500${provider.logo_path}`} alt={provider.provider_name} />\r\n                                                        </div>)\r\n                                                    ))\r\n                                                }\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className='providers-not-available'>Not available to buy</div>\r\n                                        )\r\n                                    }\r\n                                    {   collectionType === 'movie' && (\r\n                                            <React.Fragment>\r\n                                                <div className='details-provider-title'>Rent</div>\r\n                                                { \r\n                                                    providers.rent ? \r\n                                                    (\r\n                                                        <div className='details-provider-list'>\r\n                                                            {\r\n                                                                providers.rent.map(provider => (\r\n                                                                    (<div className='details-provider-item' key={provider.provider_name}>\r\n                                                                        <img className='provider-img' src={`https://image.tmdb.org/t/p/w500${provider.logo_path}`} alt={provider.provider_name} />\r\n                                                                    </div>)\r\n                                                                ))\r\n                                                            }\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <div className='providers-not-available'>Not available to rent</div>\r\n                                                    )\r\n                                                }\r\n                                            </React.Fragment>\r\n                                        )\r\n                                    }\r\n                                </React.Fragment>\r\n                            )\r\n                        }\r\n                        { \r\n                            \r\n                            (collectionType === 'game') && \r\n                            (\r\n                                <React.Fragment>\r\n                                    <div className='details-provider-title'>Platforms</div>\r\n                                    <div className='details-platforms'>\r\n                                        {\r\n                                            providers.platforms && (\r\n                                                providers.platforms.map((platform, index) => (\r\n                                                    (<span key={platform.platform.name}>\r\n                                                        {\r\n                                                            index === providers.platforms.length - 1 ? (\r\n                                                                platform.platform.name\r\n                                                            ) : \r\n                                                                platform.platform.name + ', '\r\n                                                        }\r\n                                                    </span>)\r\n                                                ))\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                        \r\n                                </React.Fragment>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </React.Fragment>\r\n            }\r\n            {\r\n                !loadingCollectionList ?\r\n                    (\r\n                        <div className='collections-list'>\r\n                            <div className='collections-list-title'>Collections:</div>\r\n                            {\r\n                                collectionList.map((collection, index) => (\r\n                                    <div className='collection-item' key={collection._id}>\r\n                                        <div className='collection-item-title'>{collection.name}</div>\r\n                                        {\r\n                                            collection.exists ? (\r\n                                                <img src={check} className='colleciton-item-status' onClick={() => { \r\n                                                    let tempCollectionList = [...collectionList];\r\n                                                    tempCollectionList[index].exists = false;\r\n                                                    if(tempCollectionList[index].collectionId === collectionId) {\r\n                                                        setCurrentCollectionExists(false); \r\n                                                    }\r\n\r\n                                                    // Check to see if the collection exists all match up with the original list\r\n                                                    // If they do then set updates made to false\r\n                                                    let tempOriginalList = [...orjCollectionList];\r\n                                                    let match = true;\r\n                                                    for (let i = 0; i < tempCollectionList.length; i++) {\r\n                                                        if(tempCollectionList[i].exists !== tempOriginalList[i]) {\r\n                                                            match = false;\r\n                                                            if(!updatesMade) setUpdatesMade(true);\r\n                                                            break;\r\n                                                        }\r\n                                                    }\r\n\r\n                                                    if(match) setUpdatesMade(false);\r\n                                                    setCollectionList([...tempCollectionList]);\r\n                                                }} />\r\n                                            ) : (\r\n                                                <img src={circle} className='colleciton-item-status' onClick={() => { \r\n                                                    let tempCollectionList = [...collectionList];\r\n                                                    tempCollectionList[index].exists = true;\r\n                                                    if(tempCollectionList[index].collectionId === collectionId) {\r\n                                                        setCurrentCollectionExists(true); \r\n                                                    }\r\n                                                    // Check to see if the collection exists all match up with the original list\r\n                                                    // If they do then set updates made to false\r\n                                                    let tempOriginalList = [...orjCollectionList];\r\n                                                    let match = true;\r\n                                                    for (let i = 0; i < tempCollectionList.length; i++) {\r\n                                                        if(tempCollectionList[i].exists !== tempOriginalList[i]) {\r\n                                                            match = false;\r\n                                                            if(!updatesMade) setUpdatesMade(true);\r\n                                                            break;\r\n                                                        }\r\n                                                    }\r\n\r\n                                                    if(match) setUpdatesMade(false);\r\n                                                    setCollectionList([...tempCollectionList]); \r\n                                                }} />\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                ))\r\n                            }\r\n                            <button disabled={!updatesMade} className='collections-save-btn' style={{marginTop: '30px'}} onClick={submitCollectionUpdates}>Save Updates</button>\r\n                        </div>\r\n                    ) : (\r\n                        <Loading type='beat' className='list-loading' size={20} />\r\n                    )\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Details;"],"names":["auth","useContext","AuthContext","navigate","useNavigate","collectionType","useParams","type","collectionName","name","collectionId","itemId","_useState","useState","_useState2","_slicedToArray","details","setDetails","_useState3","_useState4","providers","setProviders","_useState5","_useState6","loading","setLoading","_useState7","_useState8","navingBack","setNavingBack","_useState9","_useState10","orjCollectionList","setOrjCollectionList","_useState11","_useState12","collectionList","setCollectionList","_useState13","_useState14","loadingCollectionList","setLoadingCollectionList","_useState15","_useState16","updatesMade","setUpdatesMade","_useState17","_useState18","currentCollectionExists","setCurrentCollectionExists","useEffect","showFooterHandler","fetch","concat","method","headers","then","res","json","data","string6","media","overview","replace","platforms","userId","tempCollectionArray","collections","forEach","collection","push","exists","_toConsumableArray","_jsxs","className","children","_jsx","src","back","alt","onClick","setTimeout","style","animation","Loading","size","React","id","poster","title","runtime","minPlayers","maxPlayers","stream","map","provider","logo_path","provider_name","buy","rent","platform","index","length","check","tempCollectionList","tempOriginalList","match","i","circle","_id","disabled","marginTop","removedCollections","addedCollections","addedCollectionIndexes","_loop","_i2","body","JSON","stringify","tempCollection","newItems"],"sourceRoot":""}