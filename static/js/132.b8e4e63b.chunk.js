"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[132],{3132:function(e,t,c){c.r(t),c.d(t,{default:function(){return v}});var a=c(3433),s=c(9439),i=c(2791),n=c(7689),o=c(3108),l=c(5382),r=c(9005),d=c.n(r),m=c(4297),h=c(9770),p=c(184),v=function(){var e=(0,i.useContext)(o.V),t=(0,n.s0)(),c=(0,n.UO)().type,r=(0,n.UO)().name,v=(0,n.UO)().collectionId,u=(0,n.UO)().itemId,f=window.location.search,x=new URLSearchParams(f).get("filter"),g=(0,i.useState)({}),j=(0,s.Z)(g,2),b=j[0],N=j[1],k=(0,i.useState)({}),y=(0,s.Z)(k,2),w=y[0],C=y[1],S=(0,i.useState)(!1),Z=(0,s.Z)(S,2),I=Z[0],T=Z[1],F=(0,i.useState)(!1),_=(0,s.Z)(F,2),P=_[0],O=_[1],E=(0,i.useState)([]),B=(0,s.Z)(E,2),U=B[0],L=B[1],D=(0,i.useState)(!1),H=(0,s.Z)(D,2),M=H[0],R=H[1],G=(0,i.useState)(!0),z=(0,s.Z)(G,2),A=z[0],J=z[1],V=(0,i.useState)("#FCB016"),q=(0,s.Z)(V,2),K=q[0],Q=q[1];(0,i.useEffect)((function(){e.showFooterHandler(!0),"movie"===c?Q("#FCB016"):"tv"===c?Q("#FF4D4D"):"game"===c?Q("#2482C5"):"board"===c&&Q("#45B859"),T(!0),R(!0),fetch("https://choice-champ-backend.glitch.me/media/getInfo/".concat(c,"/").concat(u),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"board"===c&&(e.media.details.overview=(new(d().Converter)).makeHtml(e.media.details.overview)),"game"===c&&(e.media.details.title=e.media.details.name,e.media.details.name=void 0),N(e.media.details),"board"===c&&"game"===c||C(e.media.providers),"game"===c&&C({platforms:e.media.providers.platforms}),T(!1)})),fetch("https://choice-champ-backend.glitch.me/collections/collectionList/".concat(c,"/").concat(u,"/").concat(e.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){L((0,a.Z)(e.collections)),R(!1)}))}),[]);return(0,p.jsxs)("div",{className:"content",children:[P?(0,p.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button-active.png?v=1702137193420",alt:"Back symbol",className:"top-left clickable",style:{animation:"button-press .75s"}}):(0,p.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button.png?v=1702137134668",alt:"Back symbol",className:"top-left clickable",onClick:function(){O(!0),setTimeout((function(){O(!1),t(A?x?"/collections/".concat(c,"/").concat(r,"/").concat(v,"?hash=").concat(u,"&filter=").concat(x):"/collections/".concat(c,"/").concat(r,"/").concat(v,"?hash=").concat(u):"/collections/".concat(c,"/").concat(r,"/").concat(v))}),1e3)}}),I?(0,p.jsx)(l.Z,{color:K,type:"beat",className:"list-loading",size:20}):(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)("div",{id:"content-details",children:[(0,p.jsx)("img",{className:"details-img",src:b.poster}),(0,p.jsx)("div",{className:"details-title color-".concat(c),children:b.title}),"game"!==c&&(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsxs)("span",{className:"details-section-title color-".concat(c),children:["board"===c&&" Play Time:","movie"===c&&" Runtime:","tv"===c&&" Seasons:"]}),b.runtime>0?b.runtime:"N/A",("movie"===c||"board"===c)&&" minute","tv"===c&&" season",b.runtime>1&&"s"]}),"board"===c&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title color-".concat(c),children:"Min Players:"})," ",b.minPlayers]}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title color-".concat(c),children:"Max Players:"})," ",b.maxPlayers]})]}),("movie"===c||"tv"===c)&&(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title color-".concat(c),children:"Rating: "}),b.rating," / 10"]})}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("div",{className:"details-section-title color-".concat(c),children:"Overview:"}),(0,p.jsx)("div",{className:"details-overview",dangerouslySetInnerHTML:{__html:b.overview}})]}),("movie"===c||"tv"===c)&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title color-".concat(c),children:"Stream:"}),w.stream?(0,p.jsx)("div",{className:"details-provider-list-section",children:w.stream.map((function(e){return(0,p.jsx)("img",{className:"provider-img-section",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to stream"})]}),"game"===c&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Platforms"}),(0,p.jsx)("div",{className:"details-platforms",children:w.platforms&&w.platforms.map((function(e,t){return(0,p.jsx)("span",{children:t===w.platforms.length-1?e.name:e.name+", "},e.name)}))})]})]})}),M?null:(0,p.jsxs)("div",{className:"collections-list",children:[(0,p.jsx)("div",{className:"collections-list-title color-".concat(c),children:"Collections:"}),U.map((function(e,t){return(0,p.jsxs)("div",{className:"collection-item",onClick:function(){var s,i,n=(0,a.Z)(U);e.exists?(n[t].exists=!1,n[t].collectionId===v&&J(!1),s=n[t].collectionId,i=n[t].itemId,fetch("https://choice-champ-backend.glitch.me/collections/items/".concat(s,"/").concat(i),{method:"DELETE",headers:{"Content-Type":"application/json"}})):(n[t].exists=!0,n[t].collectionId===v&&J(!0),function(e,t){var s=u;"board"!==c&&"game"!==c&&(s=parseInt(s)),fetch("https://choice-champ-backend.glitch.me/collections/items/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{title:b.title,id:s,poster:b.poster}])}).then((function(e){return e.json()})).then((function(e){var c=(0,a.Z)(U);c[t].itemId=e.newItems[0]._id,L((0,a.Z)(c))}))}(n[t].collectionId,t)),L((0,a.Z)(n))},children:[(0,p.jsx)("div",{className:"collection-item-title",children:e.name}),(0,p.jsx)("img",{src:e.exists?h:m,className:"colleciton-item-status"})]},e._id)}))]})]})}},9770:function(e,t,c){e.exports=c.p+"static/media/check.ba9d3e54bdec2de99f79.png"},4297:function(e,t,c){e.exports=c.p+"static/media/circle.004850191698b41d6112.png"}}]);
//# sourceMappingURL=132.b8e4e63b.chunk.js.map