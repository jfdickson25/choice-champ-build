"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[610],{3999:function(e,s,r){r.d(s,{Z:function(){return c}});r(2791);var n=r(184),c=function(e){return(0,n.jsx)("button",{type:e.type,disabled:e.disabled,onClick:e.onClick,className:e.className,children:e.children})}},2569:function(e,s,r){r.r(s),r.d(s,{default:function(){return l}});var n=r(1413),c=r(9439),t=r(2791),i=r(1134),a=r(7689),o=(r.p,r(3999)),d=r(3108),u=r(184),l=function(e){var s=(0,t.useContext)(d.V),r=(0,a.s0)(),l=(0,t.useState)(!0),h=(0,c.Z)(l,2),p=h[0],m=h[1],f=(0,t.useState)(""),j=(0,c.Z)(f,2),x=j[0],g=j[1],w=(0,i.cI)(),b=w.register,q=w.handleSubmit,k=w.setValue,v=w.formState.errors,y=function(){m((function(e){return!e})),g(""),k("usernameRequired",""),k("passwordRequired",""),v.usernameRequired=!1,v.passwordRequired=!1};return(0,u.jsx)("div",{className:"center",children:(0,u.jsxs)("form",{onSubmit:q((function(e){var n;p?fetch("https://choice-champ-backend.glitch.me/user/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.usernameRequired,password:e.passwordRequired})}).then((function(e){return n=e.status,e.json()})).then((function(e){200===n?(s.login(),s.userIdSetter(e.userId),localStorage.setItem("userId",e.userId),r("/collections")):g(e.errMsg)})).catch((function(e){console.log(e)})):fetch("https://choice-champ-backend.glitch.me/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.usernameRequired,password:e.passwordRequired})}).then((function(e){return n=e.status,e.json()})).then((function(e){200===n?(s.login(),s.userIdSetter(e.userId),localStorage.setItem("userId",e.userId),r("/welcome/info")):g(e.errMsg)})).catch((function(e){console.log(e)}))})),children:[(0,u.jsx)("img",{src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/choice-champ-logo.PNG?v=1694138179997",alt:"Movie Match Logo",id:"logo"}),(0,u.jsx)("div",{className:"seperator"}),p&&(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"Welcome Back"}),(0,u.jsx)("h4",{children:"Login to account"})]}),!p&&(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"Welcome!"}),(0,u.jsx)("h4",{children:"Create account"})]}),(0,u.jsx)("input",(0,n.Z)({id:"username",placeholder:"Username"},b("usernameRequired",{required:!0,minLength:5,maxLength:20}))),v.usernameRequired&&(0,u.jsx)("p",{className:"error",children:"A username of at least 5 characters is required"}),(0,u.jsx)("input",(0,n.Z)({type:"password",id:"password",placeholder:"Password"},b("passwordRequired",{required:!0,minLength:5}))),v.passwordRequired&&(0,u.jsx)("p",{className:"error",children:"A password of at lease 5 characters is required"}),p&&(0,u.jsx)(o.Z,{type:"submit",children:"Login"}),!p&&(0,u.jsx)(o.Z,{type:"submit",children:"Create"}),(0,u.jsx)("p",{className:"auth-error-msg",children:x}),(0,u.jsxs)("div",{className:"switch",children:[p&&(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"Don't have an account?"}),(0,u.jsx)("p",{onClick:y,className:"switch-link",children:"Create Account"}),(0,u.jsx)("p",{onClick:function(){r("/party/joinParty")},className:"switch-link",children:"Join Code"})]}),!p&&(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"Already have an account?"}),(0,u.jsx)("p",{onClick:y,className:"switch-link",children:"Login"})]})]})]})})}}}]);
//# sourceMappingURL=610.1cbb1236.chunk.js.map