"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[667],{5541:function(e,n,c){c(2791);n.Z=c.p+"static/media/back.130646437979786be8370a1fdf68655a.svg"},8667:function(e,n,c){c.r(n),c.d(n,{default:function(){return v}});var t=c(3433),o=c(9439),i=c(2791),a=c(7689),l=c(1087),s=c(8214),r=c(5382),d=c(5541),u=c(4297),h=c(8378),f=c(2852),m=c(3108),p=c(3999),g=c(184),v=function(e){var n=(0,i.useContext)(m.V),c=(0,a.s0)(),v=(0,a.UO)().type,x=(0,i.useState)(""),j=(0,o.Z)(x,2),b=j[0],C=j[1],N=(0,i.useState)([]),k=(0,o.Z)(N,2),y=k[0],Z=k[1],T=(0,i.useState)(!1),S=(0,o.Z)(T,2),_=S[0],O=S[1],E=(0,i.useState)(!0),I=(0,o.Z)(E,2),R=I[0],A=I[1],G=(0,i.useState)(null),w=(0,o.Z)(G,2),M=w[0],P=w[1],W=(0,i.useState)(""),B=(0,o.Z)(W,2),F=B[0],J=B[1];(0,i.useEffect)((function(){n.showFooterHandler(!0),"movie"===v?C("Movie Collections"):"tv"===v?C("TV Collections"):"game"===v?C("Game Collections"):"board"===v&&C("Board Game Collections"),fetch("https://choice-champ-backend.glitch.me/collections/".concat(v,"/").concat(n.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){Z(e.collections),A(!1)}))}),[v]);var L=(0,i.useState)(!1),U=(0,o.Z)(L,2),V=U[0],z=U[1],D=(0,i.useRef)(),H=(0,i.useRef)(),q=function(){D.current.value="",H.current.value=null,P(!1),J(""),z(!1)};return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)("img",{src:d.Z,alt:"Back symbol",className:"top-left",onClick:function(){c("/collections")}}),(0,g.jsx)("h2",{className:"title",children:b}),(0,g.jsx)("img",{src:_?f:h,className:"edit",alt:"Edit icon",onClick:function(){return O(!_)}}),(0,g.jsx)("img",{src:u,className:"add",alt:"Add icon",onClick:function(){return z(!0)}}),R?(0,g.jsx)(r.Z,{type:"beat",className:"list-loading",size:20}):(0,g.jsx)("div",{className:"collections-content",children:y.length>0?y.map((function(e,c){return _?(0,g.jsxs)("div",{className:"collections-item",children:[(0,g.jsx)("img",{className:"remove",alt:"Remove Icon",onClick:function(){var c;c=e._id,fetch("https://choice-champ-backend.glitch.me/collections/".concat(v,"/").concat(n.userId,"/").concat(c),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){Z(y.filter((function(e){return e._id!==c})))})).catch((function(e){console.log(e)}))},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/remove.png?v=1682136649433"}),0!==c&&(0,g.jsx)("img",{className:"left",onClick:function(){!function(e){var c=y.find((function(n){return n._id===e})),o=y.indexOf(c);if(0!==o){var i=(0,t.Z)(y);i.splice(o,1),i.splice(o-1,0,c),Z(i),fetch("https://choice-champ-backend.glitch.me/collections/moveLeft/".concat(v,"/").concat(n.userId,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){Z(i)})).catch((function(e){console.log(e)}))}}(e._id)},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/left.png?v=1692161740511"}),(0,g.jsx)("div",{className:"collection-text",children:e.name}),c!==y.length-1&&(0,g.jsx)("img",{className:"right",onClick:function(){!function(e){var c=y.find((function(n){return n._id===e})),o=y.indexOf(c);if(o!==y.length-1){var i=(0,t.Z)(y);i.splice(o,1),i.splice(o+1,0,c),Z(i),fetch("https://choice-champ-backend.glitch.me/collections/moveRight/".concat(v,"/").concat(n.userId,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){Z(i)})).catch((function(e){console.log(e)}))}}(e._id)},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/right.png?v=1692161745669"})]},e._id):(0,g.jsx)(l.rU,{to:"/collections/".concat(v,"/").concat(e.name,"/").concat(e._id),className:"collections-item",children:(0,g.jsx)("div",{className:"collection-text",children:e.name})},e._id)})):(0,g.jsx)("div",{style:{textAlign:"center",gridColumn:"1/4",fontWeight:"bold"},children:"No Collections"})})]}),(0,g.jsx)(s.Z,{open:V,onClose:q,fullWidth:!0,maxWidth:"lg",children:(0,g.jsx)("div",{className:"dialog-content",children:(0,g.jsxs)("div",{className:"dialog-sub-content",children:[(0,g.jsx)("input",{type:"text",placeholder:"collection name",onChange:function(e){var n=e.target.value;D.current.value=n},ref:D}),(0,g.jsx)(p.Z,{onClick:function(){""===D.current.value||y.find((function(e){return e.name===D.current.value}))?P(!0):(fetch("https://choice-champ-backend.glitch.me/collections/".concat(n.userId),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:D.current.value,type:v})}).then((function(e){return e.json()})).then((function(e){Z([].concat((0,t.Z)(y),[e.collection]))})).catch((function(e){console.log(e)})),q())},children:"Create Collection"}),M&&(0,g.jsx)("p",{className:"error",style:{textAlign:"center"},children:"Collection must have a name"}),(0,g.jsx)("p",{className:"or",children:"OR"}),(0,g.jsx)("input",{type:"number",min:1e4,max:99999,placeholder:"share code",onChange:function(e){var n=e.target.value;H.current.value=n},ref:H}),(0,g.jsx)(p.Z,{onClick:function(){5===H.current.value.length?fetch("https://choice-champ-backend.glitch.me/collections/join/".concat(H.current.value,"/").concat(v,"/").concat(n.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errMsg?J(e.errMsg):(Z([].concat((0,t.Z)(y),[e.collection])),q())})).catch((function(e){console.log(e)})):J("Code must be 5 digits long")},children:"Join Collection"}),(0,g.jsx)("p",{className:"error",style:{textAlign:"center"},children:F})]})})})]})}},3999:function(e,n,c){c.d(n,{Z:function(){return o}});c(2791);var t=c(184),o=function(e){return(0,t.jsx)("button",{type:e.type,disabled:e.disabled,onClick:e.onClick,className:e.className,children:e.children})}},4297:function(e,n,c){e.exports=c.p+"static/media/add.28df205f935a3975dcff.png"},8378:function(e,n,c){e.exports=c.p+"static/media/edit.da72498c9a63add0149a.png"},2852:function(e,n,c){e.exports=c.p+"static/media/editing.e007df67d027caed3e0d.png"}}]);
//# sourceMappingURL=667.35f6e32c.chunk.js.map