"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[132],{5541:function(e,t,s){s(2791);t.Z=s.p+"static/media/back.130646437979786be8370a1fdf68655a.svg"},3132:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var i=s(3433),a=s(9439),c=s(2791),n=s(7689),l=s(3108),o=s(5382),r=s(2940),d=s(9770),m=s(5541),p=s(184),h=function(){var e=(0,c.useContext)(l.V),t=(0,n.s0)(),s=(0,n.UO)().type,h=(0,n.UO)().name,v=(0,n.UO)().collectionId,u=(0,n.UO)().itemId,f=(0,c.useState)({}),x=(0,a.Z)(f,2),g=x[0],j=x[1],N=(0,c.useState)({}),b=(0,a.Z)(N,2),Z=b[0],y=b[1],k=(0,c.useState)(!1),S=(0,a.Z)(k,2),_=S[0],w=S[1],C=(0,c.useState)(!1),I=(0,a.Z)(C,2),T=I[0],E=I[1],O=(0,c.useState)([]),P=(0,a.Z)(O,2),F=P[0],U=P[1],q=(0,c.useState)([]),z=(0,a.Z)(q,2),B=z[0],G=z[1],L=(0,c.useState)(!1),M=(0,a.Z)(L,2),R=M[0],A=M[1],D=(0,c.useState)(!1),H=(0,a.Z)(D,2),J=H[0],V=H[1],K=(0,c.useState)(!0),Q=(0,a.Z)(K,2),W=Q[0],X=Q[1];(0,c.useEffect)((function(){e.showFooterHandler(!1),w(!0),A(!0),fetch("https://choice-champ-backend.glitch.me/media/getInfo/".concat(s,"/").concat(u),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if("board"===s){var t=e.media.details.overview.replace(/(<([^>]+)>)/gi," ").replace(/&mdash;/g,"-").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&rsquo;/g,"'");e.media.details.overview=t}j(e.media.details),"board"===s&&"game"===s||y(e.media.providers),"game"===s&&y({platforms:e.media.providers.platforms}),w(!1)})),fetch("https://choice-champ-backend.glitch.me/collections/collectionList/".concat(s,"/").concat(u,"/").concat(e.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=[];e.collections.forEach((function(e){t.push(e.exists)})),U([].concat(t)),G((0,i.Z)(e.collections)),A(!1)}))}),[]);return(0,p.jsxs)("div",{className:"content",children:[(0,p.jsx)("img",{src:m.Z,alt:"Back symbol",className:"top-left clickable",onClick:function(){E(!0),setTimeout((function(){E(!1),t(W?"/collections/".concat(s,"/").concat(h,"/").concat(v,"#").concat(u):"/collections/".concat(s,"/").concat(h,"/").concat(v))}),1e3)},style:T?{animation:"button-press .75s"}:null}),_?(0,p.jsx)(o.Z,{type:"beat",className:"list-loading",size:20}):(0,p.jsx)(c.Fragment,{children:(0,p.jsxs)("div",{id:"content-details",children:[(0,p.jsx)("img",{className:"game"===s?"details-img-game":"details-img",src:g.poster}),(0,p.jsx)("div",{className:"details-title",children:g.title}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsxs)("span",{className:"details-section-title",children:[("game"===s||"board"===s)&&" Play Time:","movie"===s&&" Runtime:","tv"===s&&" Seasons:"]}),g.runtime>0?g.runtime:"N/A","game"===s&&g.runtime>0&&" hour",("movie"===s||"board"===s)&&" minute","tv"===s&&" season",g.runtime>1&&"s"]}),"board"===s&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title",children:"Min Players:"})," ",g.minPlayers]}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title",children:"Max Players:"})," ",g.maxPlayers]})]}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("div",{className:"details-section-title",children:"Overview:"}),(0,p.jsx)("div",{className:"details-overview",children:g.overview})]}),("movie"===s||"tv"===s)&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Stream"}),Z.stream?(0,p.jsx)("div",{className:"details-provider-list",children:Z.stream.map((function(e){return(0,p.jsx)("div",{className:"details-provider-item",children:(0,p.jsx)("img",{className:"provider-img",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name})},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to stream"}),(0,p.jsx)("div",{className:"details-provider-title",children:"Buy"}),Z.buy?(0,p.jsx)("div",{className:"details-provider-list",children:Z.buy.map((function(e){return(0,p.jsx)("div",{className:"details-provider-item",children:(0,p.jsx)("img",{className:"provider-img",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name})},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to buy"}),"movie"===s&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Rent"}),Z.rent?(0,p.jsx)("div",{className:"details-provider-list",children:Z.rent.map((function(e){return(0,p.jsx)("div",{className:"details-provider-item",children:(0,p.jsx)("img",{className:"provider-img",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name})},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to rent"})]})]}),"game"===s&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Platforms"}),(0,p.jsx)("div",{className:"details-platforms",children:Z.platforms&&Z.platforms.map((function(e,t){return(0,p.jsx)("span",{children:t===Z.platforms.length-1?e.platform.name:e.platform.name+", "},e.platform.name)}))})]})]})}),R?(0,p.jsx)(o.Z,{type:"beat",className:"list-loading",size:20}):(0,p.jsxs)("div",{className:"collections-list",children:[(0,p.jsx)("div",{className:"collections-list-title",children:"Collections:"}),B.map((function(e,t){return(0,p.jsxs)("div",{className:"collection-item",children:[(0,p.jsx)("div",{className:"collection-item-title",children:e.name}),e.exists?(0,p.jsx)("img",{src:d,className:"colleciton-item-status",onClick:function(){var e=(0,i.Z)(B);e[t].exists=!1,e[t].collectionId===v&&X(!1);for(var s=(0,i.Z)(F),a=!0,c=0;c<e.length;c++)if(e[c].exists!==s[c]){a=!1,J||V(!0);break}a&&V(!1),G((0,i.Z)(e))}}):(0,p.jsx)("img",{src:r,className:"colleciton-item-status",onClick:function(){var e=(0,i.Z)(B);e[t].exists=!0,e[t].collectionId===v&&X(!0);for(var s=(0,i.Z)(F),a=!0,c=0;c<e.length;c++)if(e[c].exists!==s[c]){a=!1,J||V(!0);break}a&&V(!1),G((0,i.Z)(e))}})]},e._id)})),(0,p.jsx)("button",{disabled:!J,className:"collections-save-btn",style:{marginTop:"30px"},onClick:function(){A(!0);for(var e=[],t=[],s=(0,i.Z)(F),a=[],c=0;c<B.length;c++)B[c].exists!==s[c]&&(B[c].exists?(t.push(B[c]),a.push(c),s[c]=!0):(e.push(B[c]),s[c]=!1));for(var n=0;n<e.length;n++)fetch("https://choice-champ-backend.glitch.me/collections/items/".concat(e[n].collectionId,"/").concat(e[n].itemId),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){U((0,i.Z)(s)),A(!1)}));for(var l=function(e){fetch("https://choice-champ-backend.glitch.me/collections/items/".concat(t[e].collectionId),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{title:g.title,id:u,poster:g.poster}])}).then((function(e){return e.json()})).then((function(t){var c=(0,i.Z)(B);c[a[e]].itemId=t.newItems[0]._id,G((0,i.Z)(c)),U((0,i.Z)(s)),A(!1)}))},o=0;o<t.length;o++)l(o)},children:"Save Updates"})]})]})}},9770:function(e,t,s){e.exports=s.p+"static/media/check.ba9d3e54bdec2de99f79.png"},2940:function(e,t,s){e.exports=s.p+"static/media/circle.004850191698b41d6112.png"}}]);
//# sourceMappingURL=132.2c4892c5.chunk.js.map