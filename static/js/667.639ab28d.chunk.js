"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[667],{5541:function(e,t,n){n(2791);t.Z=n.p+"static/media/back.130646437979786be8370a1fdf68655a.svg"},8667:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var c=n(3433),o=n(9439),i=n(2791),a=n(7689),l=n(1087),s=n(8214),r=n(5382),d=n(5541),u=n(4297),h=n(8378),f=n(2852),m=n(3108),p=n(3999),g=n(184),v=function(e){var t=(0,i.useContext)(m.V),n=(0,a.s0)(),v=(0,a.UO)().type,x=(0,i.useState)(""),j=(0,o.Z)(x,2),b=j[0],C=j[1],N=(0,i.useState)([]),k=(0,o.Z)(N,2),y=k[0],Z=k[1],T=(0,i.useState)(!1),S=(0,o.Z)(T,2),_=S[0],O=S[1],E=(0,i.useState)(!0),I=(0,o.Z)(E,2),w=I[0],R=I[1],A=(0,i.useState)(null),G=(0,o.Z)(A,2),M=G[0],P=G[1],W=(0,i.useState)(""),B=(0,o.Z)(W,2),F=B[0],J=B[1],L=(0,i.useState)(!1),U=(0,o.Z)(L,2),V=U[0],z=U[1];(0,i.useEffect)((function(){t.showFooterHandler(!0),"movie"===v?C("Movie Collections"):"tv"===v?C("TV Collections"):"game"===v?C("Game Collections"):"board"===v&&C("Board Game Collections"),fetch("https://choice-champ-backend.glitch.me/collections/".concat(v,"/").concat(t.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){Z(e.collections),R(!1)}))}),[t,v]);var D=(0,i.useState)(!1),H=(0,o.Z)(D,2),q=H[0],K=H[1],Q=(0,i.useRef)(),X=(0,i.useRef)(),Y=function(){Q.current.value="",X.current.value=null,P(!1),J(""),K(!1)};return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)("img",{src:d.Z,alt:"Back symbol",className:"top-left",onClick:function(){z(!0),setTimeout((function(){z(!1),n("/collections")}),1e3)},style:V?{animation:"button-press .75s"}:null}),(0,g.jsx)("h2",{className:"title",children:b}),(0,g.jsx)("img",{src:_?f:h,className:"edit",alt:"Edit icon",onClick:function(){return O(!_)}}),(0,g.jsx)("img",{src:u,className:"add",alt:"Add icon",onClick:function(){return K(!0)}}),w?(0,g.jsx)(r.Z,{type:"beat",className:"list-loading",size:20}):(0,g.jsx)("div",{className:"collections-content",children:y.length>0?y.map((function(e,n){return _?(0,g.jsxs)("div",{className:"collections-item",children:[(0,g.jsx)("img",{className:"remove",alt:"Remove Icon",onClick:function(){var n;n=e._id,fetch("https://choice-champ-backend.glitch.me/collections/".concat(v,"/").concat(t.userId,"/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){Z(y.filter((function(e){return e._id!==n})))})).catch((function(e){console.log(e)}))},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/remove.png?v=1682136649433"}),0!==n&&(0,g.jsx)("img",{className:"left",alt:"left arrow",onClick:function(){!function(e){var n=y.find((function(t){return t._id===e})),o=y.indexOf(n);if(0!==o){var i=(0,c.Z)(y);i.splice(o,1),i.splice(o-1,0,n),Z(i),fetch("https://choice-champ-backend.glitch.me/collections/moveLeft/".concat(v,"/").concat(t.userId,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){Z(i)})).catch((function(e){console.log(e)}))}}(e._id)},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/left.png?v=1692161740511"}),(0,g.jsx)("div",{className:"collection-text",children:e.name}),n!==y.length-1&&(0,g.jsx)("img",{className:"right",alt:"right arrow",onClick:function(){!function(e){var n=y.find((function(t){return t._id===e})),o=y.indexOf(n);if(o!==y.length-1){var i=(0,c.Z)(y);i.splice(o,1),i.splice(o+1,0,n),Z(i),fetch("https://choice-champ-backend.glitch.me/collections/moveRight/".concat(v,"/").concat(t.userId,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){Z(i)})).catch((function(e){console.log(e)}))}}(e._id)},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/right.png?v=1692161745669"})]},e._id):(0,g.jsx)(l.rU,{to:"/collections/".concat(v,"/").concat(e.name,"/").concat(e._id),className:"collections-item",children:(0,g.jsx)("div",{className:"collection-text",children:e.name})},e._id)})):(0,g.jsx)("div",{style:{textAlign:"center",gridColumn:"1/4",fontWeight:"bold"},children:"No Collections"})})]}),(0,g.jsx)(s.Z,{open:q,onClose:Y,fullWidth:!0,maxWidth:"lg",children:(0,g.jsx)("div",{className:"dialog-content",children:(0,g.jsxs)("div",{className:"dialog-sub-content",children:[(0,g.jsx)("input",{type:"text",placeholder:"collection name",onChange:function(e){var t=e.target.value;Q.current.value=t},ref:Q}),(0,g.jsx)(p.Z,{onClick:function(){""===Q.current.value||y.find((function(e){return e.name===Q.current.value}))?P(!0):(fetch("https://choice-champ-backend.glitch.me/collections/".concat(t.userId),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Q.current.value,type:v})}).then((function(e){return e.json()})).then((function(e){Z([].concat((0,c.Z)(y),[e.collection]))})).catch((function(e){console.log(e)})),Y())},children:"Create Collection"}),M&&(0,g.jsx)("p",{className:"error",style:{textAlign:"center"},children:"Collection must have a name"}),(0,g.jsx)("p",{className:"or",children:"OR"}),(0,g.jsx)("input",{type:"number",min:1e4,max:99999,placeholder:"share code",onChange:function(e){var t=e.target.value;X.current.value=t},ref:X}),(0,g.jsx)(p.Z,{onClick:function(){5===X.current.value.length?fetch("https://choice-champ-backend.glitch.me/collections/join/".concat(X.current.value,"/").concat(v,"/").concat(t.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errMsg?J(e.errMsg):(Z([].concat((0,c.Z)(y),[e.collection])),Y())})).catch((function(e){console.log(e)})):J("Code must be 5 digits long")},children:"Join Collection"}),(0,g.jsx)("p",{className:"error",style:{textAlign:"center"},children:F})]})})})]})}},3999:function(e,t,n){n.d(t,{Z:function(){return o}});n(2791);var c=n(184),o=function(e){return(0,c.jsx)("button",{type:e.type,disabled:e.disabled,onClick:e.onClick,className:e.className,children:e.children})}},4297:function(e,t,n){e.exports=n.p+"static/media/add.28df205f935a3975dcff.png"},8378:function(e,t,n){e.exports=n.p+"static/media/edit.da72498c9a63add0149a.png"},2852:function(e,t,n){e.exports=n.p+"static/media/editing.e007df67d027caed3e0d.png"}}]);
//# sourceMappingURL=667.639ab28d.chunk.js.map