"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[986],{5541:function(e,t,c){c(2791);c.p},9655:function(e,t,c){c.r(t),c.d(t,{default:function(){return p}});var n=c(3433),o=c(9439),a=c(2791),l=c(7689),i=c(1087),s=c(8214),r=c(5382),d=(c(5541),c.p,c(8378)),u=c(2852),h=c(3108),f=c(3999),m=c(184),p=function(e){var t=(0,a.useContext)(h.V),c=(0,l.s0)(),p=(0,l.UO)().type,g=(0,a.useState)(""),b=(0,o.Z)(g,2),v=b[0],x=b[1],j=(0,a.useState)([]),C=(0,o.Z)(j,2),k=C[0],N=C[1],y=(0,a.useState)(!1),Z=(0,o.Z)(y,2),T=Z[0],S=Z[1],_=(0,a.useState)(!0),O=(0,o.Z)(_,2),E=O[0],I=O[1],w=(0,a.useState)(null),R=(0,o.Z)(w,2),A=R[0],G=R[1],B=(0,a.useState)(""),F=(0,o.Z)(B,2),M=F[0],P=F[1],J=(0,a.useState)(!1),L=(0,o.Z)(J,2),U=L[0],V=L[1];(0,a.useEffect)((function(){t.showFooterHandler(!0),"movie"===p?x("Movie Collections"):"tv"===p?x("TV Collections"):"game"===p?x("Game Collections"):"board"===p&&x("Board Game Collections"),fetch("https://choice-champ-backend.glitch.me/collections/".concat(p,"/").concat(t.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){N(e.collections),I(!1)}))}),[t,p]);var W=(0,a.useState)(!1),z=(0,o.Z)(W,2),D=z[0],H=z[1],q=(0,a.useRef)(),K=(0,a.useRef)(),Q=function(){q.current.value="",K.current.value=null,G(!1),P(""),H(!1)};return(0,m.jsxs)(a.Fragment,{children:[(0,m.jsxs)("div",{className:"content",children:[U?(0,m.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button-active.png?v=1702137193420",alt:"Back symbol",className:"top-left clickable",style:{animation:"button-press .75s"}}):(0,m.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button.png?v=1702137134668",alt:"Back symbol",className:"top-left clickable",onClick:function(){V(!0),setTimeout((function(){V(!1),c("/collections")}),1e3)}}),(0,m.jsx)("h2",{className:"title color-".concat(p),children:v}),(0,m.jsx)("img",{src:T?u:d,className:"edit clickable",alt:"Edit icon",onClick:function(){return S(!T)},style:T?{animation:"button-press .75s"}:null}),D?(0,m.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/plus-button-active.png?v=1702137827635",className:"add clickable",alt:"Add icon",style:{animation:"button-press .75s"}}):(0,m.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/plus-button.png?v=1702138169050",className:"add clickable",alt:"Add icon",onClick:function(){return H(!0)}}),E?(0,m.jsx)(r.Z,{type:"beat",className:"list-loading",size:20}):(0,m.jsx)("div",{className:"collections-content",children:k.length>0?k.map((function(e,c){return T?(0,m.jsxs)("div",{className:"collections-item",children:[(0,m.jsx)("img",{className:"remove",alt:"Remove Icon",onClick:function(){var c;c=e._id,fetch("https://choice-champ-backend.glitch.me/collections/".concat(p,"/").concat(t.userId,"/").concat(c),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){N(k.filter((function(e){return e._id!==c})))})).catch((function(e){console.log(e)}))},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/remove.png?v=1682136649433"}),0!==c&&(0,m.jsx)("img",{className:"left",alt:"left arrow",onClick:function(){!function(e){var c=k.find((function(t){return t._id===e})),o=k.indexOf(c);if(0!==o){var a=(0,n.Z)(k);a.splice(o,1),a.splice(o-1,0,c),N(a),fetch("https://choice-champ-backend.glitch.me/collections/moveLeft/".concat(p,"/").concat(t.userId,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){N(a)})).catch((function(e){console.log(e)}))}}(e._id)},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/left.png?v=1692161740511"}),(0,m.jsx)("div",{className:"collection-text-".concat(p," collection-text"),children:e.name}),c!==k.length-1&&(0,m.jsx)("img",{className:"right",alt:"right arrow",onClick:function(){!function(e){var c=k.find((function(t){return t._id===e})),o=k.indexOf(c);if(o!==k.length-1){var a=(0,n.Z)(k);a.splice(o,1),a.splice(o+1,0,c),N(a),fetch("https://choice-champ-backend.glitch.me/collections/moveRight/".concat(p,"/").concat(t.userId,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){N(a)})).catch((function(e){console.log(e)}))}}(e._id)},src:"https://cdn.glitch.global/7cdfb78e-767d-42ef-b9ca-2f58981eb393/right.png?v=1692161745669"})]},e._id):(0,m.jsx)(i.rU,{to:"/collections/".concat(p,"/").concat(e.name,"/").concat(e._id),className:"collections-item",children:(0,m.jsx)("div",{className:"collection-text-".concat(p," collection-text"),children:e.name})},e._id)})):(0,m.jsx)("div",{className:"no-collections-txt",children:"No Collections"})})]}),(0,m.jsx)(s.Z,{open:D,onClose:Q,fullWidth:!0,maxWidth:"lg",children:(0,m.jsx)("div",{className:"dialog-content",children:(0,m.jsxs)("div",{className:"dialog-sub-content",children:[(0,m.jsx)("input",{type:"text",placeholder:"collection name",onChange:function(e){var t=e.target.value;q.current.value=t},ref:q}),(0,m.jsx)(f.Z,{onClick:function(){""===q.current.value||k.find((function(e){return e.name===q.current.value}))?G(!0):(fetch("https://choice-champ-backend.glitch.me/collections/".concat(t.userId),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:q.current.value,type:p})}).then((function(e){return e.json()})).then((function(e){N([].concat((0,n.Z)(k),[e.collection]))})).catch((function(e){console.log(e)})),Q())},children:"Create Collection"}),A&&(0,m.jsx)("p",{className:"error",style:{textAlign:"center"},children:"Collection must have a name"}),(0,m.jsx)("p",{className:"or",children:"OR"}),(0,m.jsx)("input",{type:"number",min:1e4,max:99999,placeholder:"share code",onChange:function(e){var t=e.target.value;K.current.value=t},ref:K}),(0,m.jsx)(f.Z,{onClick:function(){5===K.current.value.length?fetch("https://choice-champ-backend.glitch.me/collections/join/".concat(K.current.value,"/").concat(p,"/").concat(t.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errMsg?P(e.errMsg):(N([].concat((0,n.Z)(k),[e.collection])),Q())})).catch((function(e){console.log(e)})):P("Code must be 5 digits long")},children:"Join Collection"}),(0,m.jsx)("p",{className:"error",style:{textAlign:"center"},children:M})]})})})]})}},3999:function(e,t,c){c.d(t,{Z:function(){return l}});var n=c(9439),o=c(2791),a=c(184),l=function(e){var t=(0,o.useState)(!1),c=(0,n.Z)(t,2),l=c[0],i=c[1];return(0,a.jsx)(o.Fragment,{children:l?(0,a.jsx)("button",{type:e.type,disabled:e.disabled,className:e.className,style:e.backgroundColor?{animation:"button-press .75s",backgroundColor:e.backgroundColor}:{animation:"button-press .75s",backgroundColor:"#dd9b14"},children:e.children}):(0,a.jsx)("button",{type:e.type,disabled:e.disabled,onClick:function(){e.onClick&&(i(!0),setTimeout((function(){i(!1),e.onClick()}),1e3))},className:e.className,children:e.children})})}},8378:function(e,t,c){e.exports=c.p+"static/media/edit.da72498c9a63add0149a.png"},2852:function(e,t,c){e.exports=c.p+"static/media/editing.e007df67d027caed3e0d.png"}}]);
//# sourceMappingURL=986.ced422a7.chunk.js.map