(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[386],{5541:function(e,t,n){"use strict";n(2791);t.Z=n.p+"static/media/back.130646437979786be8370a1fdf68655a.svg"},8386:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(3433),i=n(9439),o=n(2791),a=n(7689),c=n(3999),s=n(1425),u=n.n(s),l=n(5541),h=n(584),f=n(5382),d=n(3108),p=n(184),m=function(e){var t=e.socket,n=(0,o.useContext)(d.V),s=(0,a.s0)(),m=(0,a.UO)().code,v=(0,o.useState)([]),y=(0,i.Z)(v,2),g=y[0],b=y[1],x=(0,o.useState)("movie"),w=(0,i.Z)(x,2),j=w[0],O=w[1],C=(0,o.useState)(1),S=(0,i.Z)(C,2),P=S[0],N=S[1],I=(0,o.useState)(!1),M=(0,i.Z)(I,2),E=M[0],T=M[1],k=(0,o.useState)(!1),Z=(0,i.Z)(k,2),_=Z[0],D=Z[1],R=(0,o.useState)(!1),F=(0,i.Z)(R,2),B=F[0],A=F[1],Q=(0,o.useState)(0),Y=(0,i.Z)(Q,2),G=Y[0],W=Y[1],q=(0,o.useState)(0),V=(0,i.Z)(q,2),H=V[0],U=V[1],L=(0,o.useState)([]),z=(0,i.Z)(L,2),X=z[0],$=z[1],J=(0,o.useState)([]),K=(0,i.Z)(J,2),ee=K[0],te=K[1],ne=(0,o.useState)("guest"),re=(0,i.Z)(ne,2),ie=re[0],oe=re[1],ae=(0,o.useState)(!1),ce=(0,i.Z)(ae,2),se=ce[0],ue=ce[1],le=(0,o.useState)(!1),he=(0,i.Z)(le,2),fe=he[0],de=he[1],pe=(0,o.useState)(!1),me=(0,i.Z)(pe,2),ve=me[0],ye=me[1],ge=(0,o.useRef)(g),be=(0,o.useRef)(P),xe=(0,o.useRef)(G),we=(0,o.useRef)(H);(0,o.useEffect)((function(){n.showFooterHandler(!1),fetch("https://choice-champ-backend.glitch.me/party/".concat(m,"?userId=").concat(n.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.owner&&oe("owner");var n=e.party.items.map((function(e){return{id:e._id,itemId:e.itemId,title:e.title,poster:e.poster,watched:e.watched,votes:0,superChoice:!1,tempSuperChoice:!1,holdSuperChoice:!1,voted:!1}}));n=n.filter((function(e,t,n){return t===n.findIndex((function(t){return t.itemId===e.itemId}))})),e.party.includeWatched||(n=n.filter((function(e){return!e.watched}))),n=n.sort((function(){return Math.random()-.5})),O(e.party.mediaType),T(e.party.secretMode),D(e.party.superChoice),U(e.party.memberCount),we.current=e.party.memberCount,b(n),ge.current=n,t.emit("join-room",m)}))}),[]),(0,o.useEffect)((function(){return t.on("vote-increment",(function(e){ge.current.find((function(t){return t.id==e})).votes+=1,b((0,r.Z)(ge.current))})),t.on("vote-decrement",(function(e){ge.current.find((function(t){return t.id==e})).votes-=1,b((0,r.Z)(ge.current))})),t.on("votes-needed",(function(e){N(e),be.current=e})),t.on("super-choice",(function(e){ge.current.find((function(t){return t.id==e})).holdSuperChoice=!0,b((0,r.Z)(ge.current))})),t.on("remove-super-choice",(function(e){ge.current.find((function(t){return t.id==e})).holdSuperChoice=!1,b((0,r.Z)(ge.current))})),t.on("random-selected",(function(e){t.emit("leave-room",m),B&&A(!1),de(!0),setTimeout((function(){ue(!0),setTimeout((function(){var t=ge.current.find((function(t){return t.id===e}));window.scrollTo(0,0);var n=ge.current.filter((function(t){return t.id!==e}));$(n),b([t]),ge.current=[t]}),2e3)}),1e3)})),t.on("user-ready",(function(){if(xe.current+=1,W(xe.current),xe.current==we.current){var e=ge.current.filter((function(e){return e.votes>=be.current||e.holdSuperChoice||e.tempSuperChoice}));if(0===e.length)return alert("No item reached the votes needed. Continue voting."),A(!1),xe.current=0,void W(xe.current);setTimeout((function(){ue(!0),setTimeout((function(){if(0!==e.length){if(1===e.length){window.scrollTo(0,0),"movie"!==j&&"tv"!==j||fetch("https://choice-champ-backend.glitch.me/media/getInfo/".concat(j,"/").concat(e[0].itemId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){te(e.media.providers)}));var t=ge.current.filter((function(e){return e.votes<be.current}));$(t)}else e.forEach((function(e){(e.tempSuperChoice||e.holdSuperChoice)&&(e.superChoice=!0,e.holdSuperChoice=!1,e.tempSuperChoice=!1),e.votes=0,e.voted=!1})),window.scrollTo(0,0),W(0),xe.current=0;b(e),ge.current=e,A(!1),ue(!1)}else A(!1)}),2e3)}),1e3)}})),t.on("user-not-ready",(function(){xe.current-=1,W(xe.current)})),t.on("party-member-left",(function(){U(we.current-1),we.current-=1})),t.on("party-deleted",(function(){t.emit("leave-room",m),s("/party")})),function(){t.off("vote-increment"),t.off("vote-decrement"),t.off("votes-needed"),t.off("vote-selected"),t.off("random-selected"),t.off("party-deleted"),t.off("clear-votes"),t.off("user-ready"),t.off("user-not-ready"),t.off("party-member-left"),t.off("super-choice"),t.off("remove-super-choice")}}),[]);var je=function(e){var n=g.find((function(t){return t.id===e}));!n.voted||n.tempSuperChoice||n.superChoice?n.voted&&n.superChoice?(n.votes-=1,n.voted=!1,b((0,r.Z)(g)),ge.current=(0,r.Z)(g),t.emit("vote-remote-decrement",e,m)):n.tempSuperChoice&&!n.superChoice?(n.votes-=1,n.voted=!1,n.tempSuperChoice=!1,b((0,r.Z)(g)),ge.current=(0,r.Z)(g),t.emit("vote-remote-decrement",e,m),t.emit("remove-super-choice-remote",e,m)):(n.voted=!0,n.votes+=1,b((0,r.Z)(g)),ge.current=(0,r.Z)(g),t.emit("vote-remote-increment",e,m)):_?(n.tempSuperChoice=!0,b((0,r.Z)(g)),ge.current=(0,r.Z)(g),t.emit("super-choice-remote",e,m)):(n.voted=!1,n.votes-=1,b((0,r.Z)(g)),ge.current=(0,r.Z)(g),t.emit("vote-remote-decrement",e,m))};return(0,p.jsxs)("div",{className:"content",children:[1===g.length&&(0,p.jsx)(u(),{height:window.outerHeight+window.innerHeight}),(0,p.jsx)("img",{src:l.Z,alt:"Back symbol",onClick:function(){"owner"===ie&&g.length>1?fetch("https://choice-champ-backend.glitch.me/party/".concat(m),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){ye(!0),setTimeout((function(){ye(!1),t.emit("leave-room",m),t.emit("party-remote-deleted",m),s("/party")}),1e3)})):(ye(!0),setTimeout((function(){ye(!1),t.emit("user-leave-party",m),t.emit("leave-room",m),s("/party")}),1e3))},className:"top-left clickable",style:ve?{animation:"button-press .75s"}:null}),"owner"===ie&&g.length>1?(0,p.jsxs)("div",{className:"votes-needed-section",children:[(0,p.jsx)("p",{className:"votes-needed-title",children:"Votes Needed"}),(0,p.jsx)("input",{type:"number",className:"votes-needed-input",value:P,min:1,onChange:function(e){""===e.target.value?(N(e.target.value),be.current=e.target.value):isNaN(e.target.value)?(N(1),be.current=1,t.emit("votes-needed-remote",1,m)):e.target.value>we.current?(N(we.current),be.current=we.current,t.emit("votes-needed-remote",we.current,m)):e.target.value<1?(N(1),be.current=1,t.emit("votes-needed-remote",1,m)):(N(e.target.value),be.current=e.target.value,t.emit("votes-needed-remote",e.target.value,m))}})]}):(0,p.jsx)("div",{className:"guest-banner"}),"owner"===ie&&g.length>1&&(0,p.jsx)("img",{src:h,className:"edit clickable",alt:"Dice",onClick:function(){if(1!==g.length){de(!0);var e=Math.floor(Math.random()*g.length),n=g[e];n.votes=0,n.voted=!1;var r=g.filter((function(e){return e.id!==n.id}));setTimeout((function(){ue(!0),setTimeout((function(){$(r),b([n]),ge.current=[n],window.scrollTo(0,0),fetch("https://choice-champ-backend.glitch.me/party/".concat(m),{method:"DELETE",headers:{"Content-Type":"application/json"}})}),2e3)}),1e3),t.emit("random-remote-selected",n.id,m)}}}),(0,p.jsx)("div",{className:"game"===j?"collection-content-game":"collection-content-other",children:1===g.length?(0,p.jsxs)("div",{className:"winner",children:[(0,p.jsx)("p",{className:"winner-banner",children:"CHOICE CHAMPION!"}),(0,p.jsx)("img",{className:"game"===j?"winner-img-game":"winner-img",src:g[0].poster}),(0,p.jsx)("p",{className:"winner-title",children:g[0].title}),("movie"===j||"tv"===j)&&(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)("p",{className:"runner-up-title",children:"Where to Watch"}),(0,p.jsxs)("div",{className:"providers-list",children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Stream"}),ee.stream?(0,p.jsx)("div",{className:"details-provider-list",children:ee.stream.map((function(e){return(0,p.jsx)("div",{className:"details-provider-item",children:(0,p.jsx)("img",{className:"provider-img",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name})},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to stream"}),(0,p.jsx)("div",{className:"details-provider-title",children:"Buy"}),ee.buy?(0,p.jsx)("div",{className:"details-provider-list",children:ee.buy.map((function(e){return(0,p.jsx)("div",{className:"details-provider-item",children:(0,p.jsx)("img",{className:"provider-img",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name})},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to buy"}),"movie"===j&&(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Rent"}),ee.rent?(0,p.jsx)("div",{className:"details-provider-list",children:ee.rent.map((function(e){return(0,p.jsx)("div",{className:"details-provider-item",children:(0,p.jsx)("img",{className:"provider-img",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name})},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to rent"})]})]})]}),(0,p.jsx)("p",{className:"runner-up-title",children:"Runner Ups"}),X.length>0&&X.map((function(e){return e.superChoice?(0,p.jsxs)("p",{className:"runner-up",children:[e.title,(0,p.jsx)("span",{className:"super-choice-star",children:" \u2605"})]},e.id):(0,p.jsx)("p",{className:"runner-up",children:e.title},e.id)}))]}):(0,r.Z)(g).reverse().map((function(e){return(0,p.jsxs)("div",{className:"item-section",onClick:je.bind(undefined,e.id),children:[(0,p.jsx)("img",{className:"movie"===j||"tv"===j?"item-img":"game"===j?"game-img":"board-img",src:e.poster,style:e.voted?{border:"5px solid #FCB016"}:null}),("game"===j||"board"===j)&&(0,p.jsx)("p",{style:e.voted?{borderLeft:"5px solid #FCB016",borderRight:"5px solid #FCB016",borderBottom:"5px solid #FCB016",borderRadius:"0px 0px 9px 9px"}:null,children:e.title}),e.votes>0&&!E&&(0,p.jsx)("div",{className:"item-votes",children:e.votes}),(e.tempSuperChoice||e.superChoice)&&_&&(0,p.jsx)("img",{className:e.superChoice?"item-super-choice":e.tempSuperChoice?"item-temp-super-choice":null,src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/star.png?v=1699066109692"})]},e.id)}))}),g.length>1&&(B?(0,p.jsx)("div",{className:"ready-overlay",onClick:H>1?function(){A(!1),xe.current-=1,W(xe.current),t.emit("user-not-ready-remote",m)}:null,style:se?{transform:"translateY(100vh)",transition:"transform 2s ease-in-out"}:null,children:1===H?(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)("h1",{className:"ready-text",style:{marginBottom:"30px"},children:"Filtering Items"}),(0,p.jsx)(f.Z,{type:"beat",className:"ready-loading",size:20,speed:.5})]}):(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)("h1",{className:"ready-text",children:"Ready!"}),(0,p.jsx)("p",{className:"waiting-text",children:"Waiting on other party members..."}),(0,p.jsx)("p",{className:"waiting-text-cancel",children:"Click to return to voting"}),(0,p.jsx)(f.Z,{type:"sync",className:"ready-loading",size:20,speed:.5})]})}):fe?null:(0,p.jsx)(c.Z,{className:"finish-voting-btn",onClick:function(){if("owner"!==ie||""!==be.current){if(A(!0),xe.current+=1,W(xe.current),xe.current==we.current){var e=g.filter((function(e){return e.votes>=be.current||e.holdSuperChoice||e.tempSuperChoice}));if(0===e.length)return alert("No item reached the votes needed. Continue voting."),A(!1),xe.current=0,W(xe.current),void t.emit("user-ready-remote",m);setTimeout((function(){ue(!0),setTimeout((function(){if(1===e.length){var t=g.filter((function(e){return e.votes<be.current}));$(t),window.scrollTo(0,0),fetch("https://choice-champ-backend.glitch.me/party/".concat(m),{method:"DELETE",headers:{"Content-Type":"application/json"}}),"movie"!==j&&"tv"!==j||fetch("https://choice-champ-backend.glitch.me/media/getInfo/".concat(j,"/").concat(e[0].itemId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){te(e.media.providers)}))}else e.forEach((function(e){(e.tempSuperChoice||e.holdSuperChoice)&&(e.superChoice=!0,e.tempSuperChoice=!1,e.holdSuperChoice=!1),e.votes=0,e.voted=!1})),window.scrollTo(0,0),W(0),xe.current=0;b(e),ge.current=e,A(!1),ue(!1)}),2e3)}),1e3)}t.emit("user-ready-remote",m)}else alert("Please enter a number for the votes needed.")},children:"Finish Voting"})),fe&&(0,p.jsx)("div",{className:"ready-overlay",style:se?{transform:"translateY(100vh)",transition:"transform 2s ease-in-out"}:null,children:(0,p.jsx)("img",{src:h,className:"random-selected-dice",alt:"Dice"})})]})}},3999:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(2791);var r=n(184),i=function(e){return(0,r.jsx)("button",{type:e.type,disabled:e.disabled,onClick:e.onClick,className:e.className,children:e.children})}},1425:function(e,t,n){var r;"undefined"!=typeof self&&self,e.exports=(r=n(2791),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var r={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var i=n-t;return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:(n-t)*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var i=n-t;return e==r?t+i:i*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var i=n-t;return 0===e?t:e===r?t+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i,o,a,c=n-t;return a=1.70158,0===e?t:1==(e/=r)?t+c:((o=0)||(o=.3*r),(i=c)<Math.abs(c)?(i=c,a=o/4):a=o/(2*Math.PI)*Math.asin(c/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},easeOutElastic:function(e,t,n,r){var i,o,a,c=n-t;return a=1.70158,0===e?t:1==(e/=r)?t+c:((o=0)||(o=.3*r),(i=c)<Math.abs(c)?(i=c,a=o/4):a=o/(2*Math.PI)*Math.asin(c/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+c+t)},easeInOutElastic:function(e,t,n,r){var i,o,a,c=n-t;return a=1.70158,0===e?t:2==(e/=r/2)?t+c:((o=0)||(o=r*(.3*1.5)),(i=c)<Math.abs(c)?(i=c,a=o/4):a=o/(2*Math.PI)*Math.asin(c/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+c+t)},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){var o=n-t;return void 0===i&&(i=1.70158),(e/=r/2)<1?o/2*(e*e*((1+(i*=1.525))*e-i))+t:o/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:function(e,t,n,i){var o=n-t;return o-r.easeOutBounce(i-e,0,o,i)+t},easeOutBounce:function(e,t,n,r){var i=n-t;return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){var o=n-t;return e<i/2?.5*r.easeInBounce(2*e,0,o,i)+t:.5*r.easeOutBounce(2*e-i,0,o,i)+.5*o+t}};e.exports=r},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"ReactConfetti",(function(){return Q}));var r,i,o=n(0),a=n.n(o),c=n(1),s=n.n(c);function u(e,t){return e+Math.random()*(t-e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(r||(r={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(i||(i={}));var f=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"context",void 0),h(this,"radius",void 0),h(this,"x",void 0),h(this,"y",void 0),h(this,"w",void 0),h(this,"h",void 0),h(this,"vx",void 0),h(this,"vy",void 0),h(this,"shape",void 0),h(this,"angle",void 0),h(this,"angularSpin",void 0),h(this,"color",void 0),h(this,"rotateY",void 0),h(this,"rotationDirection",void 0),h(this,"getOptions",void 0),this.getOptions=n;var a,c,s=this.getOptions(),l=s.colors,f=s.initialVelocityX,d=s.initialVelocityY;this.context=t,this.x=r,this.y=o,this.w=u(5,20),this.h=u(5,20),this.radius=u(5,10),this.vx="number"==typeof f?u(-f,f):u(f.min,f.max),this.vy="number"==typeof d?u(-d,0):u(d.min,d.max),this.shape=(a=0,c=2,Math.floor(a+Math.random()*(c-a+1))),this.angle=u(0,360)*Math.PI/180,this.angularSpin=u(-.2,.2),this.color=l[Math.floor(Math.random()*l.length)],this.rotateY=u(0,1),this.rotationDirection=u(0,1)?i.Positive:i.Negative}var t,n,o;return t=e,(n=[{key:"update",value:function(){var e=this.getOptions(),t=e.gravity,n=e.wind,o=e.friction,a=e.opacity,c=e.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=n,this.vx*=o,this.vy*=o,this.rotateY>=1&&this.rotationDirection===i.Positive?this.rotationDirection=i.Negative:this.rotateY<=-1&&this.rotationDirection===i.Negative&&(this.rotationDirection=i.Positive);var s=.1*this.rotationDirection;if(this.rotateY+=s,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,c&&"function"==typeof c)c.call(this,this.context);else switch(this.shape){case r.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case r.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case r.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&l(t.prototype,n),o&&l(t,o),e}();function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"canvas",void 0),d(this,"context",void 0),d(this,"getOptions",void 0),d(this,"x",0),d(this,"y",0),d(this,"w",0),d(this,"h",0),d(this,"lastNumberOfPieces",0),d(this,"tweenInitTime",Date.now()),d(this,"particles",[]),d(this,"particlesGenerated",0),d(this,"removeParticleAt",(function(e){r.particles.splice(e,1)})),d(this,"getParticle",(function(){var e=u(r.x,r.w+r.x),t=u(r.y,r.h+r.y);return new f(r.context,r.getOptions,e,t)})),d(this,"animate",(function(){var e=r.canvas,t=r.context,n=r.particlesGenerated,i=r.lastNumberOfPieces,o=r.getOptions(),a=o.run,c=o.recycle,s=o.numberOfPieces,u=o.debug,l=o.tweenFunction,h=o.tweenDuration;if(!a)return!1;var f=r.particles.length,d=c?f:n,p=Date.now();if(d<s){i!==s&&(r.tweenInitTime=p,r.lastNumberOfPieces=s);for(var m=r.tweenInitTime,v=l(p-m>h?h:Math.max(0,p-m),d,s,h),y=Math.round(v-d),g=0;g<y;g++)r.particles.push(r.getParticle());r.particlesGenerated+=y}return u&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText("Particles: ".concat(f),e.width-10,e.height-20)),r.particles.forEach((function(t,n){t.update(),(t.y>e.height||t.y<-100||t.x>e.width+100||t.x<-100)&&(c&&d<=s?r.particles[n]=r.getParticle():r.removeParticleAt(n))})),f>0||d<s})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=n};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:s.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},x=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"canvas",void 0),g(this,"context",void 0),g(this,"_options",void 0),g(this,"generator",void 0),g(this,"rafId",void 0),g(this,"setOptionsWithDefaults",(function(e){var t={confettiSource:{x:0,y:0,w:r.canvas.width,h:0}};r._options=v(v(v({},t),b),e),Object.assign(r,e.confettiSource)})),g(this,"update",(function(){var e=r.options,t=e.run,n=e.onConfettiComplete,i=r.canvas,o=r.context;t&&(o.fillStyle="white",o.clearRect(0,0,i.width,i.height)),r.generator.animate()?r.rafId=requestAnimationFrame(r.update):(n&&"function"==typeof n&&r.generator.particlesGenerated>0&&n.call(r,r),r._options.run=!1)})),g(this,"reset",(function(){r.generator&&r.generator.particlesGenerated>0&&(r.generator.particlesGenerated=0,r.generator.particles=[],r.generator.lastNumberOfPieces=0)})),g(this,"stop",(function(){r.options={run:!1},r.rafId&&(cancelAnimationFrame(r.rafId),r.rafId=void 0)})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new p(this.canvas,(function(){return r.options})),this.options=n,this.update()}var t,n,r;return t=e,(n=[{key:"options",get:function(){return this._options},set:function(e){var t=this._options&&this._options.run,n=this._options&&this._options.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===n&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}])&&y(t.prototype,n),r&&y(t,r),e}();function w(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=a.a.createRef(),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,e);var t,n,r,i=k(o);function o(e){var t;M(this,o);for(var n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return R(_(t=i.call.apply(i,[this,e].concat(r))),"canvas",a.a.createRef()),R(_(t),"confetti",void 0),t.canvas=e.canvasRef||F,t}return t=o,(n=[{key:"componentDidMount",value:function(){if(this.canvas.current){var e=A(this.props)[0];this.confetti=new x(this.canvas.current,e)}}},{key:"componentDidUpdate",value:function(){var e=A(this.props)[0];this.confetti&&(this.confetti.options=e)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var e=P(A(this.props),2),t=e[0],n=e[1],r=S({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},n.style);return a.a.createElement("canvas",O({width:t.width,height:t.height,ref:this.canvas},n,{style:r}))}}])&&E(t.prototype,n),r&&E(t,r),o}(o.Component);function A(e){var t={},n={},r=[].concat(w(Object.keys(b)),["confettiSource","drawShape","onConfettiComplete"]),i=["canvasRef"];for(var o in e){var a=e[o];r.includes(o)?t[o]=a:i.includes(o)?i[o]=a:n[o]=a}return[t,n,{}]}R(B,"defaultProps",S({},b)),R(B,"displayName","ReactConfetti");var Q=a.a.forwardRef((function(e,t){return a.a.createElement(B,O({canvasRef:t},e))}));t.default=Q}]).default)},584:function(e,t,n){"use strict";e.exports=n.p+"static/media/dices.682aa6ebb10e531380e1.png"}}]);
//# sourceMappingURL=386.8e138d1f.chunk.js.map