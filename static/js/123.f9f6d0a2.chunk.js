"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[123],{5541:function(e,t,a){a(2791);a.p},8123:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var c=a(9439),n=a(2791),s=a(7689),i=a(2940),o=a(9770),l=(a(5541),a(3999)),r=a(3108),d=a(5382),m=a(184),h=function(e){var t=(0,n.useContext)(r.V),a=(0,n.useState)([]),h=(0,c.Z)(a,2),u=h[0],p=h[1],b=(0,n.useState)("movie"),f=(0,c.Z)(b,2),x=f[0],v=f[1],j=(0,n.useState)(!1),g=(0,c.Z)(j,2),y=g[0],N=g[1],k=(0,n.useState)(!0),C=(0,c.Z)(k,2),S=C[0],T=C[1],Z=(0,n.useState)(!1),w=(0,c.Z)(Z,2),_=w[0],F=w[1],M=(0,n.useState)(!1),I=(0,c.Z)(M,2),P=I[0],G=I[1],B=(0,n.useState)(!1),E=(0,c.Z)(B,2),V=E[0],O=E[1],W=(0,n.useState)(!1),q=(0,c.Z)(W,2),z=q[0],A=q[1],D=(0,s.s0)();(0,n.useEffect)((function(){t.showFooterHandler(!0),fetch("https://choice-champ-backend.glitch.me/collections/movie/".concat(t.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){p(e.collections),T(!1)}))}),[]);var H=function(e){T(!0),v(e.target.value),fetch("https://choice-champ-backend.glitch.me/collections/".concat(e.target.value,"/").concat(t.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){N(!1),p(e.collections),T(!1)}))};return(0,m.jsx)(n.Fragment,{children:(0,m.jsxs)("div",{className:"content",children:[z?(0,m.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button-active.png?v=1702137193420",alt:"Back symbol",className:"top-left clickable",style:{animation:"button-press .75s"}}):(0,m.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button.png?v=1702137134668",alt:"Back symbol",className:"top-left clickable",onClick:function(){A(!0),setTimeout((function(){A(!1),D("/party")}),1e3)}}),(0,m.jsx)("h2",{className:"title",children:"Create Party"}),(0,m.jsx)("div",{className:"create-divider"}),(0,m.jsx)("p",{className:"option-text",children:"Secret Mode"}),(0,m.jsx)("img",{className:"option-img",src:_?o:i,onClick:function(){F(!_)}}),(0,m.jsx)("p",{className:"option-subtext",children:"Party members will not see each other's votes"}),(0,m.jsx)("p",{className:"option-text",children:"Include Watched"}),(0,m.jsx)("img",{className:"option-img",src:P?o:i,onClick:function(){G(!P)}}),(0,m.jsx)("p",{className:"option-subtext",children:"Include items that have been marked as watched/played"}),(0,m.jsx)("p",{className:"option-text",children:"Super Choice Mode"}),(0,m.jsx)("img",{className:"option-img",src:V?o:i,onClick:function(){O(!V)}}),(0,m.jsx)("p",{className:"option-subtext",children:"Super choice mode allows for more passionate voting. Double tap to star a choice to ensure it moves on to the next round. All party members will see the star in subsequent rounds and it cannot be starred again."}),(0,m.jsx)("div",{className:"create-divider"}),(0,m.jsx)("label",{className:"radio-btn-label",htmlFor:"movie",children:"Movies"}),(0,m.jsx)("input",{className:"radio-btn",type:"radio",name:"mediaType",id:"movie",value:"movie",onChange:H,checked:"movie"===x}),(0,m.jsx)("label",{className:"radio-btn-label",htmlFor:"tv",children:"TV Shows"}),(0,m.jsx)("input",{className:"radio-btn",type:"radio",name:"mediaType",id:"tv",value:"tv",onChange:H,checked:"tv"===x}),(0,m.jsx)("label",{className:"radio-btn-label",htmlFor:"games",children:"Video Games"}),(0,m.jsx)("input",{className:"radio-btn",type:"radio",name:"mediaType",id:"games",value:"game",onChange:H,checked:"game"===x}),(0,m.jsx)("label",{className:"radio-btn-label",htmlFor:"games",children:"Board Games"}),(0,m.jsx)("input",{className:"radio-btn",type:"radio",name:"mediaType",id:"board",value:"board",onChange:H,checked:"board"===x}),(0,m.jsx)("p",{className:"option-subtext",children:"Choose collections to include in party"}),(0,m.jsx)("div",{className:"create-party-collections",children:S?(0,m.jsx)(d.Z,{type:"beat",className:"list-loading-create",size:20}):u.length>0?u.map((function(e){return(0,m.jsxs)("div",{className:"create-party-collection",children:[(0,m.jsx)("img",{id:e._id,src:e.selected?o:i,className:"create-party-selectable",onClick:function(){!function(e){y&&N(!1);var t=u.map((function(t){return t._id===e&&(t.selected=!t.selected),t}));p(t)}(e._id)}}),(0,m.jsx)("div",{className:"create-party-collection-name",children:e.name})]},e._id)})):(0,m.jsx)("div",{className:"no-collections-found",children:"No collections found for this media type"})}),(0,m.jsx)(l.Z,{type:"button",className:"create-party-btn",onClick:function(){var e=u.filter((function(e){return e.selected}));if(0!==e.length){var a=Math.floor(1e3+9e3*Math.random()),c=e.map((function(e){return e._id}));fetch("https://choice-champ-backend.glitch.me/party",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collections:c,partyCode:a,mediaType:x,secretMode:_,includeWatched:P,superChoice:V,owner:t.userId})}).then((function(e){D("/party/wait/".concat(a))}))}else N(!0)},children:"Create Party"}),y&&(0,m.jsx)("div",{className:"select-alert",children:"Please select at least one collection"})]})})}},3999:function(e,t,a){a.d(t,{Z:function(){return n}});a(2791);var c=a(184),n=function(e){return(0,c.jsx)("button",{type:e.type,disabled:e.disabled,onClick:e.onClick,className:e.className,children:e.children})}},9770:function(e,t,a){e.exports=a.p+"static/media/check.ba9d3e54bdec2de99f79.png"},2940:function(e,t,a){e.exports=a.p+"static/media/circle.004850191698b41d6112.png"}}]);
//# sourceMappingURL=123.f9f6d0a2.chunk.js.map