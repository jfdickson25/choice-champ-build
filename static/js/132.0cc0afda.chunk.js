"use strict";(self.webpackChunkchoice_champ=self.webpackChunkchoice_champ||[]).push([[132],{3132:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var a=s(3433),i=s(9439),c=s(2791),n=s(7689),l=s(3108),o=s(5382),d=s(9005),r=s.n(d),m=s(4297),h=s(9770),p=s(184),v=function(){var e=(0,c.useContext)(l.V),t=(0,n.s0)(),s=(0,n.UO)().type,d=(0,n.UO)().name,v=(0,n.UO)().collectionId,u=(0,n.UO)().itemId,f=window.location.search,x=new URLSearchParams(f).get("filter"),j=(0,c.useState)({}),g=(0,i.Z)(j,2),b=g[0],N=g[1],k=(0,c.useState)({}),y=(0,i.Z)(k,2),w=y[0],I=y[1],S=(0,c.useState)(!1),Z=(0,i.Z)(S,2),C=Z[0],T=Z[1],_=(0,c.useState)(!1),P=(0,i.Z)(_,2),O=P[0],E=P[1],F=(0,c.useState)([]),U=(0,i.Z)(F,2),L=U[0],H=U[1],M=(0,c.useState)(!1),R=(0,i.Z)(M,2),B=R[0],G=R[1],z=(0,c.useState)(!0),A=(0,i.Z)(z,2),D=A[0],J=A[1];(0,c.useEffect)((function(){e.showFooterHandler(!0),T(!0),G(!0),fetch("https://choice-champ-backend.glitch.me/media/getInfo/".concat(s,"/").concat(u),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"board"===s&&(e.media.details.overview=(new(r().Converter)).makeHtml(e.media.details.overview)),"game"===s&&(e.media.details.title=e.media.details.name,e.media.details.name=void 0),N(e.media.details),"board"===s&&"game"===s||I(e.media.providers),"game"===s&&I({platforms:e.media.providers.platforms}),T(!1)})),fetch("https://choice-champ-backend.glitch.me/collections/collectionList/".concat(s,"/").concat(u,"/").concat(e.userId),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){H((0,a.Z)(e.collections)),G(!1)}))}),[]);return(0,p.jsxs)("div",{className:"content",children:[O?(0,p.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button-active.png?v=1702137193420",alt:"Back symbol",className:"top-left clickable",style:{animation:"button-press .75s"}}):(0,p.jsx)("img",{src:"https://cdn.glitch.global/ebf12691-ad1e-4a83-81e2-641b9d7c5f64/back-button.png?v=1702137134668",alt:"Back symbol",className:"top-left clickable",onClick:function(){E(!0),setTimeout((function(){E(!1),t(D?x?"/collections/".concat(s,"/").concat(d,"/").concat(v,"?hash=").concat(u,"&filter=").concat(x):"/collections/".concat(s,"/").concat(d,"/").concat(v,"?hash=").concat(u):"/collections/".concat(s,"/").concat(d,"/").concat(v))}),1e3)}}),C?(0,p.jsx)(o.Z,{type:"beat",className:"list-loading",size:20}):(0,p.jsx)(c.Fragment,{children:(0,p.jsxs)("div",{id:"content-details",children:[(0,p.jsx)("img",{className:"details-img",src:b.poster}),(0,p.jsx)("div",{className:"details-title",children:b.title}),"game"!==s&&(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsxs)("span",{className:"details-section-title",children:["board"===s&&" Play Time:","movie"===s&&" Runtime:","tv"===s&&" Seasons:"]}),b.runtime>0?b.runtime:"N/A",("movie"===s||"board"===s)&&" minute","tv"===s&&" season",b.runtime>1&&"s"]}),"board"===s&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title",children:"Min Players:"})," ",b.minPlayers]}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title",children:"Max Players:"})," ",b.maxPlayers]})]}),("movie"===s||"tv"===s)&&(0,p.jsx)(c.Fragment,{children:(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("span",{className:"details-section-title",children:"Rating: "}),b.rating," / 10"]})}),(0,p.jsxs)("div",{className:"details-section",children:[(0,p.jsx)("div",{className:"details-section-title",children:"Overview:"}),(0,p.jsx)("div",{className:"details-overview",dangerouslySetInnerHTML:{__html:b.overview}})]}),("movie"===s||"tv"===s)&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Stream:"}),w.stream?(0,p.jsx)("div",{className:"details-provider-list",children:w.stream.map((function(e){return(0,p.jsx)("div",{className:"details-provider-item",children:(0,p.jsx)("img",{className:"provider-img",src:"https://image.tmdb.org/t/p/w500".concat(e.logo_path),alt:e.provider_name})},e.provider_name)}))}):(0,p.jsx)("div",{className:"providers-not-available",children:"Not available to stream"})]}),"game"===s&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("div",{className:"details-provider-title",children:"Platforms"}),(0,p.jsx)("div",{className:"details-platforms",children:w.platforms&&w.platforms.map((function(e,t){return(0,p.jsx)("span",{children:t===w.platforms.length-1?e.name:e.name+", "},e.name)}))})]})]})}),B?null:(0,p.jsxs)("div",{className:"collections-list",children:[(0,p.jsx)("div",{className:"collections-list-title",children:"Collections:"}),L.map((function(e,t){return(0,p.jsxs)("div",{className:"collection-item",onClick:function(){var i,c,n=(0,a.Z)(L);e.exists?(n[t].exists=!1,n[t].collectionId===v&&J(!1),i=n[t].collectionId,c=n[t].itemId,fetch("https://choice-champ-backend.glitch.me/collections/items/".concat(i,"/").concat(c),{method:"DELETE",headers:{"Content-Type":"application/json"}})):(n[t].exists=!0,n[t].collectionId===v&&J(!0),function(e,t){var i=u;"board"!==s&&"game"!==s&&(i=parseInt(i)),fetch("https://choice-champ-backend.glitch.me/collections/items/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{title:b.title,id:i,poster:b.poster}])}).then((function(e){return e.json()})).then((function(e){var s=(0,a.Z)(L);s[t].itemId=e.newItems[0]._id,H((0,a.Z)(s))}))}(n[t].collectionId,t)),H((0,a.Z)(n))},children:[(0,p.jsx)("div",{className:"collection-item-title",children:e.name}),(0,p.jsx)("img",{src:e.exists?h:m,className:"colleciton-item-status"})]},e._id)}))]})]})}},9770:function(e,t,s){e.exports=s.p+"static/media/check.ba9d3e54bdec2de99f79.png"},4297:function(e,t,s){e.exports=s.p+"static/media/circle.004850191698b41d6112.png"}}]);
//# sourceMappingURL=132.0cc0afda.chunk.js.map